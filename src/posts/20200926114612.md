---
title: JavaScriptでファイルを保存する
---

# {{ $frontmatter.title }}

JavaScriptでテキストファイルを保存したかったので調べた結果をメモ。

ファイルを保存する処理は [こちら](https://piro.sakura.ne.jp/latest/blosxom.cgi/webtech/javascript/2005-10-05_download.htm) の記事を参考にしている。  
ファイル名や拡張子も指定したかったのでその部分に関しては aタグを作成する方法に変更した。  
  
#### サンプルコード
```javascript
var readText = 'read text'; // 画面から読み取った情報を格納する
var contents = 'data:application/octet-stream,' + encodeURIComponent(readText);

var a = document.createElement('a');
a.download = 'download.txt';
a.href = contents;
a.click();
```

#### ブックマークレット化
```javascript
javascript:(function(){var readText='read text';var contents='data:application/octet-stream,'+encodeURIComponent(readText);var a=document.createElement('a');a.download='download.txt';a.href=contents;a.click()})();
```


### 背景

これをブックマークレットにしてWebサイトから読み取った情報をテキストファイルに保存する**予定だった**。  
  
結局、Pythonでスクレイピングするなり、可能であればAPIを叩いてファイルに出力するなりした方が良さそうなことに気づいた。 
   
今回は使わないが、手軽で便利だと思うので一応残しておく。  

